<table id="step_result_table" lay-filter="step_result_table"></table>
<script>
    layui.use(['table',], function () {
        let tb = layui.table;
        let table_data = [];
        {% if steps %}
            table_data = {{ steps | safe }};
        {% endif %}
        let step_result_table = tb.render({
            elem: '#step_result_table',
            id: 'step_result_table',
            data: table_data,
            page: false,
            even: true,
            defaultToolbar: ['filter', 'print', 'exports'],
            toolbar: true,
            cols: [[
                {type: 'numbers', title: '序号', fixed: 'left'},
                {#{field: 'case__case__title', title: 'Case Title', align: 'center'},#}
                {field: 'step__title', title: 'Step Title', align: 'center'},
                {field: 'step__step_action', title: 'Step Action', align: 'center'},
                {
                    field: 'result', title: 'Result', align: 'center', width:'8%', sort: true, templet(d) {
                        if (d.result === '0') {
                            return '<span style="color: green">通过</span>';
                        } else if (d.result === '1') {
                            return '<span style="color: red">失败</span>';
                        } else {
                            return '<span style="color: brown">N/A</span>';
                        }
                    }
                },
                {field: 'info', title: 'Info', align: 'left', minWidth: 500},
                {
                    field: 'create_time', title: 'Create Time', align: 'center', sort: true, templet(d) {
                        return d.create_time.replace('T', ' ');
                    }
                }
            ]],
        });

    });
</script>